module.exports = async d => {
	const code = d.command.code

	const r = code.split("$modifyRole[").length - 1

	const inside = code.split("$modifyRole[")[r].split("]")[0]

	const [
		roleID,
		name,
		color,
		hoisted,
		mentionable
	] = inside.split(";")

	const role = d.message.guild.roles.cache.get(roleID)

	if (!role) return d.error(`:x: Invalid role ID in \`$modifyRole[${inside}]\``)

	const ROLE = await role.edit({
		name: name || role.name,
		color: color || role.color,
		mentionable: mentionable ? mentionable === "yes" : undefined,
		hoisted: hoisted ? hoisted === "yes" : undefined
	}).catch(err => { })

	if (!ROLE) return d.error(`:x: Failed to modify ${role.name}!`)

	return {
		code: code.replaceLast(`$modifyRole[${inside}]`, "")
	}
}