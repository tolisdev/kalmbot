<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> <%= bot.user.username %> </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <link href="/leref.css" rel="stylesheet" type="text/css">
    <link href="/rimuru.css" rel="stylesheet" type="text/css">
</head>
<body style="background-color:#1D1E28;">

<%- include('navigation') %>
<% if (is_desktop) { %>

<script src="/socket.io/socket.io.js"></script>

<div class="mt-5 p-3 ps-5 pd-3 ">
<div class="mt-5 pd-5 display-3 text-white">
Editing Variable: <%= variable.name %>
</div>
</div>

<div class="m-5 p-5 bg-white roundedboi">
<form id="FormF">
<div class="mb-3">
<label for="name" class="form-label display-6">Variable Name:</label>
<input type="text" class="form-control w-100" name="name" id="name" placeholder="The name of the command" value="<%= variable.name || ""%>" required>
</div>
<div class="d-none">
<label for="NOP" class="d-none">VARIABLE_SECRET</label>
<input type="text" class="d-none" name="NOP" id="NOP" placeholder="VARF" value="<%= variable.name %>">
</div>
<div class="mb-3">
<label for="name" class="form-label display-6">Variable Value:</label>
<textarea class="form-control " rows="1" name="code" id="code" placeholder="The code of the command" ><%= variable.value ? variable.value : "" %></textarea>
</div>
<button class="btn btn-primary form-button" type="submit" style="width:20rem;">Save Variable</button>

</form>
</div>


<audio loop id="audioLmao">
  <source src="/Videos/Spooky.mp3" type="audio/mpeg">
</audio>

<script>
const body = document.getElementsByTagName("BODY")[0];
const audio = document.getElementById("audioLmao")
body.onclick = function() {
audio.remove() //audio.play()
}
</script>

<% } %>

<% if (is_mobile) { %>

<div class="mt-5 p-3 ps-5 pd-3 ">
<div class="mt-5 pd-5 display-3 text-white">
Editing Command: <%= command.name ? command.name : "COMMAND_ID_"+command.id %>
</div>
</div>

<div class="m-5 p-5 bg-white roundedboi">
<form id="FormF">
<div class="mb-3">
<label for="name" class="form-label display-6">Command Name:</label>
<input type="text" class="form-control w-100" name="name" id="name" placeholder="The name of the command" value="<%= command.name ? command.name : "" %>" required>
</div>
<div class="d-none">
<label for="id" class="d-none">COMMAND_ID_DONT_SHOW</label>
<input type="text" class="d-none" name="id" id="id" placeholder="COMMAND_ID_AUTOMATIC" value="<%= command.id %>">
</div>
<div class="mb-3">
<label for="callback" class="form-label display-6">Command Callback:</label>
<select class="form-select" aria-label="Default select example" name="callback" id="callback">
  <option selected value="<%= command.callback ? command.callback : "command"%>"><%= command.callback ? command.callback : "command"%></option>
  <% callbacks.filter(f => f !== command.callback).forEach( cb => { %>
  <option value="<%= cb %>"><%= cb %></option>
  <% }) %>
</select>
</div>
<div class="mb-3">
<label for="code" class="form-label display-6">Command Code:</label>
<textarea class="form-control " rows="15" name="code" id="code" placeholder="The code of the command" ><%= command.code ? command.code : "" %></textarea>
</div>
<div id="extraProperty">
<% Object.keys(command).filter( f => !(["callback", "code", "name", "id"].includes(f))).forEach(f => { %>
<div id="<%= command.id %>" class="mb-3">

<label for="<%= f %>" class="form-label display-6"><i class="hover-click bi bi-x-circle" style="color:red;" onclick="DeleteProperty(<%= command.id %>)"></i> Command <%= f %>:</label>
<textarea class="form-control " rows="2" name="<%= f %>" id="<%= f %>" placeholder="The <%= f %> of the command" ><%= command[f] ? command[f] : "" %></textarea>
</div>
<% }) %>
</div>
<button class="btn btn-primary form-button" type="submit" style="width:20rem;">Save Command</button>

</form>
<br><br>
<form id="FormProperty">
<p class="h1"> Add Property </p>
<div class="mb-3">
<label for="propname fn-light" class="form-label" style='font-size:1.1rem;'>Property Name:</label>
<input type="text" name="propname" id="propname" placeholder="The name of the Property" width:"20rem;" required>
<button class="btn btn-primary form-button text-white" type="submit" style="width:10rem;"> <i class="bi bi-plus-square"></i> Add Property</button>
</div>
</form>
</div>

<script src="/socket.io/socket.io.js"></script>
<script src="/socket.js"></script>
<script src="/buttonsEverywhere.js"></script>
<audio loop id="audioLmao">
  <source src="/Videos/Spooky.mp3" type="audio/mpeg">
</audio>

<script>
const body = document.getElementsByTagName("BODY")[0];
const audio = document.getElementById("audioLmao")
body.onclick = function() {
audio.remove() //audio.play()
}
</script>

<% } %>


<% if (is_tv) { %>
<video class='videoInsert' id="videoLmao" controls width="100vw">
  <source src="/Videos/rickroll.mp4" type="video/mp4">
</video>

<div id="dummyBody">
<div class="h1 display-1 mx-auto text-center pt-5 text-white p-3 d-block">
<img src="https://cdn.discordapp.com/attachments/804506885515640903/804531803645411348/DBDJSLOGOBLUEblackbackground.gif" class="rounded-circle mx-auto d-inline-block" alt="DBDJS Logo" id="image" style="width:15vw;"></img>   
DBD.JS Dashboard
</div>


<div class="mx-auto p-5 m-5" style="width: 50vw;">
<div class="rounded bg-white p-5">
<h1 class="text-center">Login to Continue</h1>
<form action="/login" method="POST">
<% if (messages.error) { %>
<div class="rounded text-center mx-auto p-3 bg-danger text-white">
<%= messages.error %>
</div>
<% } %>
<div class="mb-3">
<label for="username" class="form-label">Username</label>
<input type="text" id="username" class="form-control" name="username" required>
</div>
<div class="mb-3">
<label for="password" class="form-label">Password</label> 
<input type="password" id="password" class="form-control" name="password" required>
<input class="float-end form-check-input ms-3" type="checkbox" onclick="toggleShowPassword()"> Show Password
</div>
<button type="submit" class="btn btn-primary mb-3 text-center d-block mx-auto w-50">Login</button>
</form>
</div>

</div>
</div>

<style>
.videoInsert {
    position: absolute; 
    right: 0; 
    bottom: 0;
    min-width: 100%; 
    min-height: 100%;
    width: auto; 
    height: auto; 
    z-index: -100;
    background-size: cover;
    overflow: hidden;
}
</style>
<script>
const body = document.getElementsByTagName("BODY")[0];
const dummyBody = document.getElementById("dummyBody")
const video = document.getElementById("videoLmao")
body.onclick = function() {
dummyBody.remove()
video.display = "block"
video.classList.add("GET-RICKROLLED-TV-USERS-HAHAHAHAHHA")
video.load()
video.play()
}
</script>
<% } %>

<% if (is_car) { %>
<audio controls autoplay>
  <source src="/Videos/rickroll.mp3" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>
<% } %>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous"></script>
<script
  src="https://code.jquery.com/jquery-3.5.1.js"
  integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
  crossorigin="anonymous"></script>
    
</body>
</html>